"use strict";(self.webpackChunkphonebook=self.webpackChunkphonebook||[]).push([[22],{6022:(e,t,n)=>{n.r(t),n.d(t,{default:()=>he});var o=n(5043),s=n(5137),r=n(6542);const i=e=>e.contact.value;var a=n(4535),l=n(8613),c=n(4600),p=n(579);function d(e){let t,n=0;for(t=0;t<e.length;t+=1)n=e.charCodeAt(t)+((n<<5)-n);let o="#";for(t=0;t<3;t+=1){o+="00".concat((n>>8*t&255).toString(16)).slice(-2)}return o}function x(e){return{sx:{bgcolor:d(e)},children:e.includes(" ")?"".concat(e.split(" ")[0][0]).concat(e.split(" ")[1][0]):"".concat(e.split(" ")[0][0])}}function u(e){let{name:t}=e;return(0,p.jsx)(c.A,{direction:"row",spacing:2,children:(0,p.jsx)(m,{...x(t)})})}const m=(0,a.Ay)(l.A)((e=>{let{theme:t}=e;return{fontFamily:"ui-monospace",fontStyle:"italic",textTransform:"uppercase",width:"50px",height:"50px",[t.breakpoints.down("sm")]:{width:"40px",height:"40px",fontSize:16}}}));var h=n(9491),f=n(439),g=n(367),j=n(6128),b=n(1074),y=n(8876),C=n(5942),A=n(4909),w=n(7503);const S={position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"};function v(e){let{isOpen:t,onClose:n,id:o,name:s}=e;const[i]=(0,r.ql)();return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(y.Ay,{open:t,onClose:n,children:(0,p.jsxs)(C.A,{variant:"outlined",role:"alertdialog",children:[(0,p.jsxs)(g.A,{children:[(0,p.jsx)(A.A,{sx:{fill:"#c41c1c"}}),"Confirmation"]}),(0,p.jsx)(f.A,{}),(0,p.jsxs)(j.A,{children:["Are you sure want to discard ",s," of your PhoneBook ?"]}),(0,p.jsxs)(b.A,{children:[(0,p.jsx)(h.A,{variant:"solid",color:"danger",onClick:()=>{i(o),n(),w.oR.success("Contact ".concat(s,"  has been deleted to your PhoneBook"),S)},children:"Confirm"}),(0,p.jsx)(h.A,{variant:"plain",color:"neutral",onClick:n,children:"Cancel"})]})]})})})}var k=n(4858),z=n(9577),T=n(899),I=n(8403),B=n(1120),O=n(994),N=n(1538);const P=T.Ik({name:T.Yj().label("Name").trim().min(3,"must be at least 3 characters long").max(30,"must be at least 10 characters long").required("Name is required"),number:T.Yj().matches(/^\(\d{3}\)\s(\d{3})-(\d{2})-(\d{2})$/,"Phone number is not valid").required("Mobile Phone is required")});function q(e){let{onSubmit:t,isOpen:n,onClose:s,initialValues:r,title:i,content:a}=e;const{control:l,handleSubmit:c,formState:d,reset:x,setValue:u,formState:{errors:m,isValid:f,isSubmitting:b}}=(0,k.mN)({defaultValues:r,resolver:(0,I.t)(P),mode:"onChange"});return(0,o.useEffect)((()=>{d.isSubmitSuccessful&&x()}),[d.isSubmitSuccessful,x]),(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(y.Ay,{open:n,onClose:s,children:(0,p.jsxs)(C.A,{children:[(0,p.jsx)(g.A,{children:i}),(0,p.jsxs)(j.A,{children:["Please, ",a]}),(0,p.jsx)("form",{onSubmit:c(t),children:(0,p.jsxs)(O.A,{spacing:2,children:[(0,p.jsx)(B.A,{children:(0,p.jsx)(k.xI,{name:"name",control:l,rules:{required:!0},render:e=>{let{field:{onChange:t,onBlur:n,value:o,name:s}}=e;return(0,p.jsx)(N.A,{sx:{mb:2,"& .MuiOutlinedInput-input":{textTransform:"capitalize"}},type:"text",label:"Name",placeholder:"Please enter Name",name:s,autoComplete:"off",value:o,onBlur:n,onChange:t,autoFocus:!0,fullWidth:!0,required:!0,error:!!m[s],helperText:m[s]&&m[s].message})}})}),(0,p.jsx)(B.A,{children:(0,p.jsx)(k.xI,{name:"number",control:l,rules:{required:!0},render:e=>{let{field:{onChange:t,onBlur:n,value:o,name:s}}=e;return(0,p.jsx)(z.K9,{customInput:N.A,sx:{mb:2},name:s,type:"tel",label:"Number",format:"(###) ###-##-##",mask:"_",autoComplete:"off",value:o,onBlur:n,onChange:t,onValueChange:e=>u(e.formattedValue),fullWidth:!0,required:!0,allowEmptyFormatting:!0,error:!!m[s],helperText:m[s]&&m[s].message})}})}),(0,p.jsx)(h.A,{type:"submit",disabled:b||!f,children:i})]})})]})})})}var E=n(532),F=n(5865),D=n(3471),V=n(398),G=n(6446),L=n(2110),W=n(6494),R=n(7600),Y=n(6269),H=n(8978);const M=(0,a.Ay)(L.A)((e=>{let{theme:t}=e;return{display:"grid",gridTemplateColumns:"10% 1fr 20%",justifyItems:"center",alignContent:"center",width:"100%",height:"60px",rowGap:"10px",maxWidth:700,padding:"5px",columnGap:"20px",transition:"box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",boxShadow:"0px 2px 4px -1px rgba(0,0,0,0.2), 0px 4px 5px 0px rgba(0,0,0,0.14),0px 1px 10px 0px rgba(0,0,0,0.12)",[t.breakpoints.down("sm")]:{gridTemplateColumns:"20% 1fr 15%",columnGap:"5px",justifyContent:"center",alignItems:"center"}}})),$=(0,a.Ay)(W.A)((e=>{let{theme:t}=e;return{display:"grid",gridTemplateColumns:"1fr 1fr",justifyContent:"space-around",justifyItems:"center",alignContent:"center",width:"100%",padding:0,fontWeight:600,fontSize:18,[t.breakpoints.down("sm")]:{gridTemplateColumns:"none",fontSize:16,rowGap:5}}})),_=(0,a.Ay)(R.A)((e=>{let{theme:t}=e;return{justifySelf:"center",alignSelf:"start",flexDirection:"row",justifyContent:"space-around",padding:0,width:"100%",height:"100%",[t.breakpoints.down("md")]:{display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"end"}}})),K=(0,a.Ay)((e=>{let{className:t,...n}=e;return(0,p.jsx)(Y.A,{...n,classes:{popper:t}})}))({["& .".concat(H.A.tooltip)]:{display:"flex",justifyContent:"center",fontSize:"14px",border:"1px solid #dadde9",backgroundColor:"#f5f5f9",color:"#342c29",transition:"box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",boxShadow:"0px 2px 4px -1px rgba(0,0,0,0.2), 0px 4px 5px 0px rgba(0,0,0,0.14),0px 1px 10px 0px rgba(0,0,0,0.12)"}}),Z={position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"};function J(e){let{item:t}=e;const[n]=(0,r.El)(),[s,i]=(0,o.useState)(!1),[a,l]=(0,o.useState)(!1),c=()=>i(!1);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(M,{children:[(0,p.jsx)(u,{name:t.name}),(0,p.jsxs)($,{children:[(0,p.jsx)(F.A,{sx:{justifySelf:"start",color:"#342c29",m:0,textTransform:"capitalize"},gutterBottom:!0,variant:"p",component:"p",children:t.name}),(0,p.jsxs)(G.A,{component:"div",sx:{justifySelf:"end",display:"grid",gridTemplateColumns:"10% 1fr",justifyItems:"center",columnGap:"10px"},children:[(0,p.jsx)(E.A,{sx:{color:"#833510",fontSize:"20px"}}),(0,p.jsx)(F.A,{sx:{color:"#342c29",justifySelf:"end"},variant:"p",component:"p",children:t.number})]})]}),(0,p.jsxs)(_,{children:[(0,p.jsx)(K,{sx:{display:{sm:"flex",md:"none"}},title:"Edit",size:"lg",placement:"top",children:(0,p.jsxs)(h.A,{sx:{gap:"5px"},variant:"plain",size:"small",name:"edit",type:"button",onClick:()=>i(!0),children:[(0,p.jsx)(V.A,{sx:{display:{xs:"flex",sm:"none",justifyContent:"space-around;"},color:"#833510",fontSize:"20px"}}),(0,p.jsx)(F.A,{variant:"p",component:"p",sx:{display:{xs:"none",sm:"flex",justifyContent:"space-around;",fontSize:"14px"},textTransform:"uppercase",color:"#833510"},children:"edit"})]})}),(0,p.jsx)(K,{sx:{display:{sm:"flex",md:"none"}},title:"Delete",size:"lg",placement:"bottom",children:(0,p.jsxs)(h.A,{sx:{gap:"5px"},variant:"plain",size:"small",name:"delete",type:"button",onClick:()=>l(!0),children:[(0,p.jsx)(D.A,{sx:{display:{xs:"flex",sm:"none",justifyContent:"space-around;"},color:"#f01818",fontSize:"20px"}}),(0,p.jsx)(F.A,{variant:"p",component:"p",sx:{display:{xs:"none",sm:"flex",justifyContent:"space-around;",fontSize:"14px"},textTransform:"uppercase",color:"#f01818"},children:"delete"})]})})]})]}),(0,p.jsx)(q,{onSubmit:async e=>{try{await n(e),c(),w.oR.success("Contact ".concat(e.name," has updated your phone book"),Z)}catch(t){console.log(t)}},initialValues:t,isOpen:s,onClose:c,title:"Edit Contact",content:"Edit Contact"}),(0,p.jsx)(v,{isOpen:a,name:t.name,id:t.id,onClose:()=>l(!1)})]})}const Q=(0,a.Ay)(F.A)((e=>{let{theme:t}=e;return{color:"#833510",fontSize:"1.2rem",m:0,padding:0,fontWeight:500,[t.breakpoints.down("md")]:{fontSize:".8rem"}}}));const U=function(e){let{text:t}=e;return(0,p.jsx)(G.A,{sx:{display:"flex",justifyContent:"center",marginTop:"50px",color:"#833510",fontSize:"1.2rem"},children:(0,p.jsx)(Q,{variant:"p",component:"p",children:t})})};const X=function(e){let{items:t}=e;const n=(0,s.d4)(i);return(0,p.jsx)(G.A,{sx:{display:"flex",flexDirection:"column",width:"100%",height:"100%",justifyContent:"flex-start",alignItems:"center",gap:"10px"},children:t.length>0?t.map((e=>(0,p.jsx)(J,{item:e},e.id))):(0,p.jsx)(U,{text:"You don't have a contact with the name \" ".concat(n,' "')})})};var ee=n(2714),te=n(1036),ne=n(5761),oe=n(3450);const se=()=>{const e=(0,s.wA)(),t=(0,s.d4)(i);return(0,p.jsxs)(G.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",gap:"10px"},children:[(0,p.jsx)(oe.gZ7,{size:25,fill:"#833510"}),(0,p.jsx)(te.DebounceInput,{type:"text",name:"filter",autoComplete:"off",minLength:2,debounceTimeout:500,value:t,onChange:t=>e((0,ee.$)(t.target.value)),element:ne.A,placeholder:"Search of contact by name\u2026",sx:{"--Input-focused":1,width:200,fontStyle:"italic",fontSize:".8rem"}})]})};var re=n(2751),ie=n(5037),ae=n(4010);const le=(0,a.Ay)(G.A)((e=>{let{theme:t}=e;return{position:"fixed",bottom:"30%",right:"20%",[t.breakpoints.down("lg")]:{bottom:"5%",right:"5%"}}}));function ce(){const[e,t]=(0,o.useState)(!1),n=()=>{window.scrollY>300?t(!0):t(!1)};return(0,o.useEffect)((()=>{window.addEventListener("scroll",n)}),[]),(0,p.jsx)(p.Fragment,{children:e&&(0,p.jsx)(le,{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},children:(0,p.jsx)(ae.A,{sx:{width:"50px",height:"50px"},"aria-label":"scroll back to top",children:(0,p.jsx)(ie.A,{sx:{fontSize:"1.8rem"}})})})})}const pe=(0,a.Ay)((e=>{let{className:t,...n}=e;return(0,p.jsx)(Y.A,{...n,classes:{popper:t}})}))({["& .".concat(H.A.tooltip)]:{width:"110px",display:"flex",justifyContent:"center",fontSize:"14px",border:"1px solid #dadde9",backgroundColor:"#f5f5f9",color:"#342c29",transition:"box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",boxShadow:"0px 2px 4px -1px rgba(0,0,0,0.2), 0px 4px 5px 0px rgba(0,0,0,0.14),0px 1px 10px 0px rgba(0,0,0,0.12)"}}),de=(0,a.Ay)(G.A)((e=>{let{theme:t}=e;return{display:"flex",justifyContent:"space-around",width:"100%",marginTop:20,[t.breakpoints.down("sm")]:{flexDirection:"column",height:"100px",rowGap:"20px"}}})),xe=(0,a.Ay)(G.A)((e=>{let{theme:t}=e;return{display:"flex",flexDirection:"column",justifyContent:"flex-start",width:"100%",height:"100%",rowGap:"40px",padding:"10px 0",position:"relative"}})),ue={position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"},me={name:"",number:""};function he(){const[e]=(0,r.f_)(),[t,n]=(0,o.useState)(!1),{data:a,isFetching:l}=(0,r.TE)(),c=(0,s.d4)(i),d=(()=>{const e=c.toLowerCase().trim();if(a)return a.filter((t=>{let{name:n}=t;return n.toLowerCase().includes(e)}))})(),x=()=>n(!1);return(0,p.jsxs)(p.Fragment,{children:[l?(0,p.jsx)(re.a,{}):(0,p.jsxs)(xe,{children:[(0,p.jsxs)(de,{children:[(0,p.jsx)(se,{}),(0,p.jsx)(pe,{sx:{display:{sm:"block",md:"none"}},title:"Add New Contact",placement:"bottom-end",children:(0,p.jsxs)(h.A,{sx:{display:"flex",alignItems:"center",alignSelf:"end",maxWidth:180,height:40,gap:"10px",padding:"10px",transition:"box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",boxShadow:"0px 2px 4px -1px rgba(0,0,0,0.2), 0px 4px 5px 0px rgba(0,0,0,0.14),0px 1px 10px 0px rgba(0,0,0,0.12)"},variant:"outlined",color:"neutral",onClick:e=>{e.target&&n(!0)},children:[(0,p.jsx)(oe.BD8,{size:25,fill:"#833510"}),(0,p.jsx)(F.A,{sx:{display:{xs:"none",sm:"none",md:"block"},color:"#342c29",m:0},gutterBottom:!0,variant:"p",component:"p",children:"Add New Contact"})]})})]}),a?(0,p.jsx)(X,{items:d}):(0,p.jsx)(U,{text:"You are not contacts"}),(0,p.jsx)(ce,{})]}),(0,p.jsx)(q,{onSubmit:async t=>{let{name:n,number:o}=t;const s=n.toLowerCase(),r=null===a||void 0===a?void 0:a.some((e=>{let{name:t}=e;return t.toLowerCase()===s}));if(r)return void w.oR.info("".concat(n," is already in your phone book"),ue);const i={name:n,number:o};try{await e(i),w.oR.success("Contact ".concat(n," has been added to your PhoneBook"),ue),x()}catch(l){w.oR.error(l,ue)}},initialValues:me,isOpen:t,onClose:x,title:"Create contact",content:"create new contact"})]})}}}]);
//# sourceMappingURL=22.38f4cae4.chunk.js.map